<%= content_for :javascript do %>   
  <%= javascript_include_tag "ver_asistencias", "data-turbolinks-track" => true  %>
<% end %>
<h1>Ver asistencia</h1>

<div class="col-sm-6 col-sm-offset-3 form-box">
  <div class="form-top">
    <div class="form-top-left">
      <h4>Filtrar</h4>
    </div>
    <div class="form-top-right">
      <i class="fa fa-lock"></i>
    </div>
  </div>
  <%= form_for(:filters, url: filtering_asistencia_path, html: {id: 'filters_form', format: 'json'}) do |f| %>

      <div class="form-group">
        <%= f.label :carrera %><br />
        <%= f.collection_select(:carrera, filtros[:carreras], :id, :nombre, {prompt: "Cualquiera"}, {class: 'form-control'}) %>
      </div>

      <div class="form-group">
        <%= f.label :asignatura %><br />
        <%= f.collection_select(:asignatura, [], :id, :nombre, {prompt: "Cualquiera"}, {class: 'form-control'}) %>
      </div>

      <div class="form-group">
        <%= f.label :periodo %><br />
        <%= f.select(:periodo, filtros[:periodos], {prompt: "Cualquiera"}, {class: 'form-control'}) %>
      </div>

      <div class="actions text-center">
        <%= f.submit 'Filtrar', class: 'btn btn-primary' %>
      </div>
  <% end %>
</div>
<div id="asistencia_container">
  <%= render partial: 'asistencia_table', locals: {asistencias: asistencias, periodo: periodo} %>
</div>